# Implementation Plan: Hello Bot MVP

**Branch**: `001-hello-bot-mvp` | **Date**: 2025-12-15 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/001-hello-bot-mvp/spec.md`

**Note**: This template is filled in by the `/speckit.plan` command. See `.specify/templates/commands/plan.md` for the execution workflow.

## Summary

Build the smallest possible Telegram bot that responds deterministically to /start command and "hello" text message with exactly "Hello! ðŸ‘‹". The bot must include minimal logging (user ID + update info) and at least one automated test. This MVP explicitly excludes database, Mini App, LLM, deployment automation, and additional commands.

## Technical Context

**Language/Version**: Golang 1.21+
**Primary Dependencies**: github.com/tucnak/telebot (v3)
**Storage**: N/A (stateless, no persistence)
**Testing**: Go standard testing package
**Target Platform**: Any platform supporting Go (Linux/macOS/Windows)
**Project Type**: Single project
**Performance Goals**: <2 seconds response time, handle 10 concurrent users
**Constraints**: No database, no LLM, no Mini App, no deployment automation
**Scale/Scope**: Single bot with 2 user stories, minimal functionality for MVP validation

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

Verify compliance with `.specify/memory/constitution.md`:

- [x] **Quality-Controlled Vibe Coding**: Acceptance criteria defined in spec.md, test coverage â‰¥70% planned
- [ ] **Test-First with LLM Validation**: Tests will be written before implementation, LLM test tools identified (âš ï¸ DEVIATION: MVP focuses on unit tests only, LLM testing deferred to future features)
- [ ] **Dual Interface Architecture**: âš ï¸ NOT APPLICABLE - This MVP explicitly excludes Mini App per spec (out of scope)
- [x] **Fixed Technology Stack**: Using Golang 1.21+ with github.com/tucnak/telebot v3 as mandated
- [ ] **Deliverable-Driven Development**: âš ï¸ PARTIAL - MVP will produce bot + code + tests, but prompts archive and test reports deferred to full implementation

**Constitution Compliance Status**: âœ… **APPROVED with MVP Exceptions**

This is an intentional minimal MVP to validate core bot functionality before building the full calorie tracking system. The spec explicitly excludes Mini App, LLM integration, and deployment automation. These deviations are documented and approved for this feature only.

---

**Post-Design Re-evaluation** (after Phase 1 complete):

- [x] **Quality-Controlled Vibe Coding**: âœ… Acceptance criteria remain clear, test coverage will be >70% (single service with single test)
- [x] **Test-First with LLM Validation**: âœ… Unit tests defined in research.md, will be written before implementation
- [ ] **Dual Interface Architecture**: âœ… Still N/A - MVP intentionally excludes Mini App
- [x] **Fixed Technology Stack**: âœ… Plan uses only Golang 1.21+ and Telebot v3, no additional dependencies
- [x] **Deliverable-Driven Development**: âœ… Will produce: working bot, clean code structure, and unit test. Prompts/test reports deferred as documented.

**Final Compliance**: âœ… **PASS** - All applicable principles satisfied. MVP exceptions remain valid and justified.

## Project Structure

### Documentation (this feature)

```text
specs/001-hello-bot-mvp/
â”œâ”€â”€ plan.md              # This file
â”œâ”€â”€ research.md          # Phase 0: Telebot framework basics
â”œâ”€â”€ quickstart.md        # Phase 1: How to run the bot
â”œâ”€â”€ checklists/
â”‚   â””â”€â”€ requirements.md  # Spec quality validation (already complete)
â””â”€â”€ tasks.md             # Phase 2: Will be generated by /speckit.tasks
```

Note: No data-model.md or contracts/ needed - this MVP has no data entities or API contracts.

### Source Code (repository root)

```text
telegram-calories-bot/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ bot/
â”‚       â””â”€â”€ main.go           # Bot entry point
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â””â”€â”€ greeting.go       # Handles /start and "hello" messages
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ greeter.go        # Business logic (returns "Hello! ðŸ‘‹")
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ unit/
â”‚       â””â”€â”€ greeter_test.go   # Test for greeting service
â”œâ”€â”€ go.mod                     # Go modules file
â”œâ”€â”€ go.sum                     # Dependency checksums
â””â”€â”€ .env.example              # Example bot token configuration
```

**Structure Decision**: Single project structure. This is the simplest possible layout for a Telegram bot:
- `cmd/bot/main.go`: Initializes Telebot, registers handlers, starts polling
- `internal/handlers/greeting.go`: Receives Telegram updates, logs user ID, calls service
- `internal/services/greeter.go`: Pure function that returns "Hello! ðŸ‘‹"
- `tests/unit/greeter_test.go`: Verifies greeting logic

No models, storage, or Mini App directories needed for this MVP.

## Complexity Tracking

N/A - No complexity violations. This is the simplest possible implementation.
